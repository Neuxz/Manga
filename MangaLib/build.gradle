logger.info ' >> MangaLib'

description = 'The central library for this application containing all general implementations of the downloader.'

dependencies {
	// utilities
	compile 'com.google.guava:guava:19.0'
	
	// IO
	compile 'org.jsoup:jsoup:1.9.2'
	compile 'org.apache.httpcomponents:httpclient:4.5.2'
	
	// embed tomcat
	compile 'org.apache.tomcat.embed:tomcat-embed-core:8.0.35'
	runtime 'org.apache.tomcat.embed:tomcat-embed-logging-log4j:8.0.35'
    
	// javafx, needs to be added for java 7 only
	if(JavaVersion.current() == JavaVersion.VERSION_1_7) {
		compile files(System.properties.'java.home' + '/lib/jfxrt.jar')
	}
	compile files(new File(rootProject.projectDir, 'lib/jmetro.jar'))
}

pmdMain.ignoreFailures = true
pmdMain << {
	assertPmdErrors pmdMain, [
		[clazz:'de.herrlock.manga.jd.Crawljob', rule:'InsufficientStringBufferDeclaration'],
		[clazz:'de.herrlock.manga.util.Utils$PropertiesBuilder', rule:'ConfusingTernary']
	]
}
